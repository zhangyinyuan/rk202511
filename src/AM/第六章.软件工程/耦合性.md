# è€¦åˆæ€§ï¼šè´¹ä¹¦è®°æ§åˆ¶å¤–éƒ¨å…¬å…±å†…å®¹

[å›¾ç‰‡å¼•ç”¨å‡ºå¤„ https://ebook.qicoder.com/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88/notes/2021%E5%B9%B4%E4%B8%8A%E5%8D%8A%E5%B9%B4%E8%BD%AF%E8%AE%BE%E8%80%83%E8%AF%95%E4%B8%8A%E5%8D%88%E7%9C%9F%E9%A2%98.html?h=%E7%80%91%E5%B8%83%E6%A8%A1%E5%9E%8B#%E7%AC%AC-27-%E9%A2%98](https://ebook.qicoder.com/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88/notes/2021%E5%B9%B4%E4%B8%8A%E5%8D%8A%E5%B9%B4%E8%BD%AF%E8%AE%BE%E8%80%83%E8%AF%95%E4%B8%8A%E5%8D%88%E7%9C%9F%E9%A2%98.html?h=%E7%80%91%E5%B8%83%E6%A8%A1%E5%9E%8B#%E7%AC%AC-27-%E9%A2%98)

![bcqyzfNYq6](../../img/bcqyzfNYq6.png)

---

## è€¦åˆåº¦çš„å±‚æ¬¡

> ç‰¹åˆ«æ³¨æ„ï¼š **æ§åˆ¶å‚æ•°â‰ æ•°æ®**
>
> è´¹ä¹¦è®°æ§åˆ¶å¤–éƒ¨å…¬å…±å†…å®¹

## ğŸ§© è€¦åˆåº¦ä»ä½åˆ°é«˜ â€” Java å°ä¾‹å­è®²é€

### ğŸï¸ éç›´æ¥è€¦åˆï¼ˆNo Couplingï¼‰

æ¨¡å—ä¹‹é—´äº’ä¸ä¾èµ–ï¼Œäº’ä¸è®¤è¯†ï¼Œå’Œå¹³å…±å¤„ã€‚

```java
class Logger {
    void log(String msg) {
        System.out.println(msg);
    }
}

class Calculator {
    int add(int a, int b) {
        return a + b;
    }
}

// main åªæ˜¯åˆ†åˆ«è°ƒç”¨
public class Demo {
    public static void main(String[] args) {
        Logger logger = new Logger();
        Calculator calc = new Calculator();
        logger.log("ç»“æœ: " + calc.add(2, 3));
    }
}
```

ğŸ”¹ **è€¦åˆæœ€ä½**ï¼Œäº’ç›¸æ¯«æ— å…³ç³»ï¼Œé  main ä¸²è”ã€‚

---

## ğŸ“¦ æ•°æ®è€¦åˆï¼ˆData Couplingï¼‰

æ¨¡å—åªä¼ é€’**å¿…è¦çš„å‚æ•°**ï¼Œäº’ä¸çª¥æ¢å¯¹æ–¹å†…éƒ¨ã€‚

```java
class Calculator {
    int add(int a, int b) {
        return a + b;
    }
}

class Printer {
    void printResult(int result) {
        System.out.println("ç»“æœ: " + result);
    }
}

```

ğŸ”¹ **æ¨è**ï¼Œæ¨¡å—é—´åªä¼ é€’ç®€å•æ•°æ®ï¼Œç‹¬ç«‹æ€§å¼ºã€‚

---

## ğŸ“‘ æ ‡è®°è€¦åˆï¼ˆStamp Coupling / æ•°æ®ç»“æ„è€¦åˆï¼‰

æ¨¡å—ä¼ é€’**åŒ…å«å¤šå­—æ®µçš„å¯¹è±¡**ï¼Œä½†å¯¹æ–¹åªç”¨å…¶ä¸­ä¸€éƒ¨åˆ†ã€‚

```java
class Data {
    int x;
    int y;
}

class Calculator {
    int add(Data d) {
        return d.x + d.y;
    }
}

```

ğŸ”¹ ç»“æ„ä¸€æ”¹ï¼Œå…¨ä½“æ¨¡å—è¦è·Ÿç€æ”¹ï¼Œ**æœ‰æ½œåœ¨è¿é”ååº”**ã€‚

---

## ğŸ›ï¸ æ§åˆ¶è€¦åˆï¼ˆControl Couplingï¼‰

æ¨¡å—ä¼ é€’**æ§åˆ¶å‚æ•°**å‘Šè¯‰å¯¹æ–¹â€œæ€ä¹ˆåšâ€ã€‚

```java
class Processor {
    void process(int a, int b, boolean doAdd) {
        if (doAdd) System.out.println(a + b);
        else System.out.println(a - b);
    }
}
```

ğŸ”¹ ä¼ é€’çš„æ˜¯**è¡Œä¸ºæŒ‡ä»¤**ï¼Œæ¨¡å—å†…éƒ¨é€»è¾‘è¢«å¤–éƒ¨æ§åˆ¶ï¼Œ**è€¦åˆå‡é«˜**ã€‚

---

## ğŸŒ å¤–éƒ¨è€¦åˆï¼ˆExternal Couplingï¼‰

æ¨¡å—ä¾èµ–**å¤–éƒ¨èµ„æºï¼ˆæ–‡ä»¶ã€è®¾å¤‡ã€é€šä¿¡åè®®ã€æ•°æ®åº“ã€ç½‘ç»œç­‰ï¼‰**ã€‚

```java
import java.nio.file.*;

class FileReader {
    String read(String path) throws Exception {
        return Files.readString(Path.of(path));
    }
}
```

ğŸ”¹ å¤–éƒ¨å˜åŒ–å°±ä¼šå½±å“æ¨¡å—ï¼Œ**ç¯å¢ƒä¾èµ–é‡**ã€‚

---

## âš ï¸ å…¬å…±è€¦åˆï¼ˆCommon Couplingï¼‰

æ¨¡å—é€šè¿‡**å…±äº«å…¨å±€å˜é‡/å…¬å…±æ•°æ®åŒº**äº¤æµã€‚

```java
class Global {
    static int counter = 0;
}

class ModuleA {
    void run() {
        Global.counter++;
    }
}

class ModuleB {
    void run() {
        System.out.println(Global.counter);
    }
}
```

ğŸ”¹ è°éƒ½èƒ½æ”¹ï¼Œè°éƒ½èƒ½è¯»ï¼Œ**è°ƒè¯•åœ°ç‹±æ¨¡å¼**ã€‚

---

## ğŸ’£ å†…å®¹è€¦åˆï¼ˆContent Couplingï¼‰

æ¨¡å—**ç›´æ¥æ“ä½œå¦ä¸€ä¸ªæ¨¡å—çš„å†…éƒ¨å®ç°**ï¼ˆæœ€å±é™©ï¼‰ã€‚

```java
class Secret {
    int hidden = 42;
}

class Hacker {
    void hack(Secret s) {
        s.hidden = 99; // ç›´æ¥æ”¹å†…éƒ¨
    }
}
```

ğŸ”¹ **æœ€å¼ºè€¦åˆ**ï¼Œç ´åå°è£…æ€§ï¼Œç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ã€‚

---



## æ ¹æ®åœºæ™¯é€‰æ‹©å¯¹åº”çš„è€¦åˆæ€§

![image-20250902215044235](../../img/image-20250902215044235.png)

---

